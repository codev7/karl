<template name="navigation">
  {{#if currentUser}}
    <nav class="navbar-default navbar-static-side hidden-print" role="navigation">
      <div class="sidebar-collapse">
        <!-- Close canvas menu used only on OffCanvas page -->
        <!-- You can remove this tag if you dont use offCanvas menu -->
        <a class="close-canvas-menu"><i class="fa fa-times"></i></a>
        <!-- End offCanvas menu toggle -->

        <ul class="nav" id="side-menu">
          <li class="special_link">
            <a href="/"><i class="fa fa-datbase"></i> <span class="nav-label">Hero Chef</span></a>
          </li>
        <!-- USER PROFILE HEADER -->
          <li class="nav-header">
            <div class="dropdown profile-element">
              <span>
                <img alt="image" class="img-circle profile-image" src="{{state$profileImage}}" />
               </span>
              <a data-toggle="dropdown" class="dropdown-toggle" href="#">
                <span class="clear">
                  <span class="block m-t-xs">
                    <strong class="font-bold">{{currentUser.username}}</strong>
                  </span>
                  <span class="text-muted text-xs block">{{state$userType}}
                    <b class="caret"></b>
                  </span>
                </span>
              </a>
              <ul class="dropdown-menu animated m-t-xs">
                <li><a href="/user/profile/{{state$id}}">Profile</a></li>
               <!--  {{#if state$isAdmin}}
                <li><a href="/users">Users</a></li>
                {{/if}} -->
                <li class="divider"></li>
                <li><a href="" id="signOutButton">Logout</a></li>
              </ul>
            </div>
            <div class="logo-element">HC+</div>
          </li>
          <!-- USER PROFILE HEADER -->
          <li class="{{isActiveRoute regex='home'}}">
            <a href="/"><i class="fa fa-th-large"></i> <span class="nav-label">Dashboard</span></a>
          </li>

          <li class="{{isActiveRoute regex='weeklyRoster|dailyRoster|templateWeeklyRoster'}}">
            <a href="#">
              <i class="fa fa-calendar-o"></i>
              <span class="nav-label">Roster</span>
            </a>
            <ul class="nav nav-second-level {{isActiveRoute regex='dailyRoster|weeklyRoster|templateWeeklyRoster' className='in'}}">
              <li class="{{isActiveRoute regex='weeklyRoster'}}">
                <a href="/roster/weekly/{{week}}">Weekly</a>
              </li>
              <li class="{{isActiveRoute regex='dailyRoster'}}">
                <a href="/roster/daily/{{today}}">Daily</a>
              </li>
              {{#if state$isManagerOrAdmin}}
              <li class="{{isActiveRoute regex='templateWeeklyRoster'}}">
                <a href="/roster/template/weekly">Template</a>
              </li>
              {{/if}}  
            </ul>
          </li>

          <li class="{{isActiveRoute regex='menuItemsMaster'}}">
            <a href="/menuItems/{{state$category}}/{{state$status}}"><i class="fa fa-cutlery"></i> <span class="nav-label">Menu</span></a>
          </li>

          <li class="{{isActiveRoute regex='jobItemsMaster'}}">
            <a href="/jobItems"><i class="fa fa-spoon"></i> <span class="nav-label">Jobs</span> </a>
          </li>

          <li class="{{isActiveRoute regex='ingredientsList'}}">
            <a href="/stocks"><i class="fa fa-list"></i> <span class="nav-label">Stocks</span></a>
          </li>

          <li class="{{isActiveRoute name='stocktake|stocktakeCounting|stocktakeOrdering'}}">
            <a href="#">
              <i class="fa fa-list"></i>
              <span class="nav-label">Stocktaking</span>
            </a>
            <ul class="nav nav-second-level {{isActiveRoute name='stocktake|stocktakeCounting|stocktakeOrdering' className='in'}}">
              <li class="{{isActiveRoute name='stocktake'}}">
                <a href="/stocktake">History</a>
              </li>
              <li class="{{isActiveRoute name='suppleirOrdering'}}">
                <a href="/stocktake/order/receipts">Order Receipts</a>
              </li> 
            </ul>
          </li>

          {{#if state$isManagerOrAdmin}}
          <li class="{{isActiveRoute regex='salesCalibration|actualSales|cafeSalesForecast|weeklySalesForecastMenusList'}}">
            <a href="#">
              <i class="fa fa-line-chart"></i>
              <span class="nav-label">Sales</span>
              <span class="fa arrow"></span>
            </a>
            <ul class="nav nav-second-level {{isActiveRoute regex='salesCalibration|actualSales|cafeSalesForecast|weeklySalesForecastMenusList' className='in'}}">
              <li class="{{isActiveRoute regex='salesCalibration'}}">
                <a href="/sales/calibration">Calibration</a>
              </li>
              <li class="{{isActiveRoute regex='actualSales'}}">
                <a href="/sales/{{today}}">Actual Sales</a>
              </li>
              <li class="{{isActiveRoute regex='cafeSalesForecast'}}">
                <a href="#">
                  <span class="nav-label">Forecasting</span>
                  <span class="fa arrow"></span>
                </a>
                <ul class="nav nav-third-level {{isActiveRoute regex='cafeSalesForecast|weeklySalesForecastMenusList' className='in'}}">
                  <li class="{{isActiveRoute regex='cafeSalesForecast|weeklySalesForecastMenusList'}}">
                    <a href="/sales/forecast/cafe/{{week}}">Cafe</a>
                  </li>
                </ul>
              </li>
            </ul>
          </li>

          <li class="{{isActiveRoute regex='teamHours'}}">
            <a href="/reports/{{week}}#shifts">
              <i class="fa fa-area-chart"></i>
              <span class="nav-label">Reports</span>
            </a>
          </li>
          {{/if}}
          
          {{#if state$isManagerOrAdmin}}
          <li class="{{isActiveRoute regex='admin'}}">
            <a href="/admin"><i class="fa -o fa-cog"></i> <span class="nav-label">Settings</span> </a>
          </li>
          {{/if}}
          <!-- {{/if}} -->

          <!-- <li class="{{isActiveRoute regex='cafeSalesForecast'}}">
            <a href="#">
              <i class="fa fa-bar-chart-o"></i>
              <span class="nav-label">Sales Forecast</span>
              <span class="fa arrow"></span>
            </a>
            <ul class="nav nav-second-level {{isActiveRoute regex='cafeSalesForecast' className='in'}}">
              <li class="{{isActiveRoute regex='cafeSalesForecast'}}">
                <a href="/sales/forecast/cafe/{{week}}">Cafe</a>
              </li>
            </ul>
          </li> -->
        </ul>
      </div>
    </nav>
  {{/if}}
</template>